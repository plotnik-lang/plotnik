---
source: crates/plotnik-lib/src/emit/codegen_tests.rs
---
Expr = [
  Lit: (number) @value :: string
  Nested: (call_expression function: (identifier) @fn arguments: (Expr) @inner)
]

Test = (program (Expr) @expr)
---
[flags]
linked = false

[strings]
S00 "Beauty will save the world"
S01 "value"
S02 "fn"
S03 "inner"
S04 "Lit"
S05 "Nested"
S06 "expr"
S07 "Expr"
S08 "Test"
S09 "number"
S10 "call_expression"
S11 "arguments"
S12 "function"
S13 "identifier"
S14 "program"

[type_defs]
T0 = <Node>
T1 = <String>
T2 = Struct  M0:1  ; { value }
T3 = Struct  M1:2  ; { fn, inner }
T4 = Enum    M3:2  ; Lit | Nested
T5 = Struct  M5:1  ; { expr }

[type_members]
M0: S01 â†’ T1  ; value: <String>
M1: S02 â†’ T0  ; fn: <Node>
M2: S03 â†’ T4  ; inner: Expr
M3: S04 â†’ T2  ; Lit: T2
M4: S05 â†’ T3  ; Nested: T3
M5: S06 â†’ T4  ; expr: Expr

[type_names]
N0: S07 â†’ T4  ; Expr
N1: S08 â†’ T5  ; Test

[entrypoints]
Expr = 01 :: T4
Test = 04 :: T5

[transitions]
  00  ğœ€                                     â—¼

Expr:
  01  ğœ€                                     02
  02  ğœ€                                     19, 27

Test:
  04  ğœ€                                     05
  05       (program)                        06
  06  â†“* â–¶ (Expr)                           07
  07  ğœ€    [Set(M5)]                        09
  09 *â†‘Â¹                                    10
  10                                        â–¶
  11  ğœ€    [Set(M2)]                        13
  13 *â†‘Â¹                                    21
  14                                        â–¶
  15  ğœ€    [EndEnum]                        14
  17       (number) [Text Set(M0)]          15
  19  ğœ€    [Enum(M3)]                       17
  21  ğœ€    [EndEnum]                        14
  23  *  â–¶ arguments: (Expr)                11
  24  â†“*   function: (identifier) [Node Set(M1)]  23
  26       (call_expression)                24
  27  ğœ€    [Enum(M4)]                       26
